{"id":"thrive_ui-alq","content_hash":"6e4097d26066a1be5a9aa40395a4b661a20efae1b305c1d2bda04e0a5983a087","title":"SQL not displayed after successful retry attempt","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T09:41:53.5917423-05:00","updated_at":"2025-12-17T10:43:05.2287253-05:00","closed_at":"2025-12-17T10:43:05.2287253-05:00","source_repo":".","comments":[{"id":3,"issue_id":"thrive_ui-alq","author":"XPS15\\kroot","text":"Found the bug in chat_bot_helper.py:977-990. The SQL display logic only shows SQL on first attempt: 'if attempt == 1 and st.session_state.get(\"show_sql\", True)'. When a retry succeeds (attempt \u003e 1), the successful SQL is never displayed. Need to add SQL display after successful retry.","created_at":"2025-12-17T14:42:32Z"}]}
{"id":"thrive_ui-to9","content_hash":"db681bfa1eec5ab6023e55c9e3b7b752eaf8ef192b9dbcb0d331dfc0e990a715","title":"Auto-retry SQL generation on failure with progressive error context - Issue #2","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-16T22:59:58.3565182-05:00","updated_at":"2025-12-17T09:09:14.0135493-05:00","closed_at":"2025-12-17T09:09:14.0135493-05:00","source_repo":".","comments":[{"id":1,"issue_id":"thrive_ui-to9","author":"XPS15\\kroot","text":"Created implementation plan in scratchpads/issue-2-auto-retry-sql-generation.md. Key changes: 1) Add retry config to config_helper.py 2) Enhance generate_sql_retry with progressive guidance 3) Implement auto-retry loop in chat_bot_helper.py 4) Add non-recoverable error detection 5) Add logging 6) Write tests","created_at":"2025-12-17T04:00:44Z"},{"id":2,"issue_id":"thrive_ui-to9","author":"XPS15\\kroot","text":"Implemented auto-retry SQL generation: 1) Added get_max_sql_retries() config function 2) Enhanced generate_sql_retry with progressive guidance 3) Implemented auto-retry loop in normal_message_flow 4) Added non-recoverable error detection 5) Updated test mocks for new behavior. All related tests pass.","created_at":"2025-12-17T04:30:14Z"}]}
